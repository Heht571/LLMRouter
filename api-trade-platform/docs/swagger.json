{
    "schemes": [
        "http",
        "https"
    ],
    "swagger": "2.0",
    "info": {
        "description": "这是一个完整的 API 交易平台后端服务，提供 API 服务的注册、管理、交易和代理功能。\n平台支持卖家注册和管理 API 服务，买家可以浏览、订阅和使用 API 服务。\n所有 API 调用都通过平台代理，确保安全性和使用统计。",
        "title": "API 交易平台 MVP",
        "termsOfService": "https://api-platform.example.com/terms",
        "contact": {
            "name": "API 平台技术支持",
            "url": "https://api-platform.example.com/support",
            "email": "support@api-platform.example.com"
        },
        "license": {
            "name": "MIT License",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/api/v1",
    "paths": {
        "/api/v1/auth/account": {
            "get": {
                "description": "获取当前用户的完整账户信息，包括个人资料、设置和安全信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Account"
                ],
                "summary": "获取完整用户账户信息",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserAccountResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/auth/change-password": {
            "post": {
                "description": "修改当前用户的登录密码",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Account"
                ],
                "summary": "修改密码",
                "parameters": [
                    {
                        "description": "密码修改信息",
                        "name": "password",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ChangePasswordRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/auth/profile": {
            "get": {
                "description": "获取当前用户的个人资料信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Account"
                ],
                "summary": "获取用户个人资料",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserProfile"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "description": "更新当前用户的个人资料信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Account"
                ],
                "summary": "更新用户个人资料",
                "parameters": [
                    {
                        "description": "个人资料信息",
                        "name": "profile",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UpdateUserProfileRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserProfile"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/auth/security": {
            "get": {
                "description": "获取当前用户的安全设置信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Account"
                ],
                "summary": "获取用户安全设置",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserSecurity"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "description": "更新当前用户的安全设置",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Account"
                ],
                "summary": "更新用户安全设置",
                "parameters": [
                    {
                        "description": "安全设置信息",
                        "name": "security",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UpdateUserSecurityRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserSecurity"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/auth/settings": {
            "get": {
                "description": "获取当前用户的偏好设置",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Account"
                ],
                "summary": "获取用户设置",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserSettings"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "description": "更新当前用户的偏好设置",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Account"
                ],
                "summary": "更新用户设置",
                "parameters": [
                    {
                        "description": "用户设置信息",
                        "name": "settings",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UpdateUserSettingsRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserSettings"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/buyer/account-settings": {
            "get": {
                "description": "获取买家的专用账户设置信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Buyer"
                ],
                "summary": "获取买家专用账户设置",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserAccountResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "description": "更新买家的专用账户设置信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Buyer"
                ],
                "summary": "更新买家专用账户设置",
                "parameters": [
                    {
                        "description": "买家账户设置信息",
                        "name": "settings",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UserAccountResponse"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserAccountResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/buyer/services/{service_id}/documentation": {
            "get": {
                "description": "获取指定API服务的文档",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller",
                    "Buyer"
                ],
                "summary": "获取API文档",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API服务ID",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.APIDocumentationResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/seller/account-settings": {
            "get": {
                "description": "获取卖家的专用账户设置信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "获取卖家专用账户设置",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserAccountResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "description": "更新卖家的专用账户设置信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "更新卖家专用账户设置",
                "parameters": [
                    {
                        "description": "卖家账户设置信息",
                        "name": "settings",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UserAccountResponse"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UserAccountResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/seller/documentation/endpoints/{endpoint_id}": {
            "put": {
                "description": "更新指定的API端点文档",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "更新API端点文档",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "端点ID",
                        "name": "endpoint_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新API端点请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UpdateAPIEndpointRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.APIEndpoint"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "删除指定的API端点文档",
                "tags": [
                    "Seller"
                ],
                "summary": "删除API端点文档",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "端点ID",
                        "name": "endpoint_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/seller/services": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "获取当前认证卖家注册的所有 API 服务，包括服务状态和代理信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "卖家服务管理"
                ],
                "summary": "获取卖家的 API 服务列表",
                "responses": {
                    "200": {
                        "description": "成功获取 API 服务列表",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/model.APIServiceResponse"
                            }
                        }
                    },
                    "401": {
                        "description": "用户未认证或权限不足",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "卖家注册新的 API 服务，系统将生成代理前缀并加密存储原始 API 密钥",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "卖家服务管理"
                ],
                "summary": "注册新的 API 服务",
                "parameters": [
                    {
                        "description": "API 服务注册信息",
                        "name": "api_service",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.RegisterAPIServiceRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "API 服务注册成功",
                        "schema": {
                            "$ref": "#/definitions/model.APIServiceResponse"
                        }
                    },
                    "400": {
                        "description": "请求参数错误或 URL 格式不正确",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "用户未认证或权限不足",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/seller/services/{service_id}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "卖家更新自己注册的 API 服务信息。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "卖家更新 API 服务 (Seller updates an API service)",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API 服务 ID (API Service ID)",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新的 API 服务信息 (Updated API service information)",
                        "name": "service",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "description": {
                                    "type": "string"
                                },
                                "is_active": {
                                    "type": "boolean"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "original_api_key": {
                                    "type": "string"
                                },
                                "original_endpoint_url": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "更新成功 (Update successful)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "description": {
                                    "type": "string"
                                },
                                "is_active": {
                                    "type": "boolean"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "platform_proxy_prefix": {
                                    "type": "string"
                                },
                                "service_id": {
                                    "type": "integer"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "请求参数错误 (Invalid input)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "API 服务未找到 (API service not found)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "卖家删除自己注册的 API 服务。注意：如果有买家正在使用该服务，则无法删除。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "卖家删除 API 服务 (Seller deletes an API service)",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API 服务 ID (API Service ID)",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "删除成功 (Delete successful)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "请求参数错误 (Invalid input)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "禁止操作 (Forbidden - service has active subscriptions)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "API 服务未找到 (API service not found)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/seller/services/{service_id}/documentation": {
            "get": {
                "description": "获取指定API服务的文档",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller",
                    "Buyer"
                ],
                "summary": "获取API文档",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API服务ID",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.APIDocumentationResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "description": "更新指定API服务的文档",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "更新API文档",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API服务ID",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新API文档请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UpdateAPIDocumentationRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.APIDocumentation"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "为指定的API服务创建文档",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "创建API文档",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API服务ID",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "创建API文档请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CreateAPIDocumentationRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/model.APIDocumentation"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "删除指定API服务的文档",
                "tags": [
                    "Seller"
                ],
                "summary": "删除API文档",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API服务ID",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/seller/services/{service_id}/documentation/endpoints": {
            "post": {
                "description": "为指定的API文档创建端点文档",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "创建API端点文档",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API服务ID",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "创建API端点请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CreateAPIEndpointRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/model.APIEndpoint"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/seller/services/{service_id}/pricing": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "卖家更新自己注册的 API 服务的定价模式和价格",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "卖家更新 API 定价设置 (Seller updates API pricing settings)",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API 服务 ID (API Service ID)",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "定价更新请求 (Pricing update request)",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UpdateAPIPricingRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "更新成功 (Update successful)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "请求参数错误 (Invalid input)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "禁止操作 (Forbidden)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "API 服务未找到 (API service not found)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/seller/usage": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get usage statistics for seller's API services",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "Get seller usage statistics",
                "parameters": [
                    {
                        "type": "string",
                        "default": "\"daily\"",
                        "description": "Time period (daily, weekly, monthly)",
                        "name": "period",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/model.UsageSummaryResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "description": "使用用户名和密码登录，成功返回 JWT 认证令牌",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户认证"
                ],
                "summary": "用户登录",
                "parameters": [
                    {
                        "description": "登录凭证",
                        "name": "credentials",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UserLoginRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "登录成功，返回 JWT 令牌",
                        "schema": {
                            "$ref": "#/definitions/model.UserLoginResponse"
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "用户名或密码错误",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "description": "注册新的卖家或买家账户，支持角色选择",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户认证"
                ],
                "summary": "用户注册",
                "parameters": [
                    {
                        "description": "用户注册信息",
                        "name": "user",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UserRegistrationRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "用户创建成功",
                        "schema": {
                            "$ref": "#/definitions/model.UserResponse"
                        }
                    },
                    "400": {
                        "description": "请求参数错误或用户名/邮箱已存在",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/buyer/services": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "列出平台上所有卖家注册并激活的 API 服务，供买家浏览。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Buyer"
                ],
                "summary": "获取平台可用的 API 服务列表",
                "responses": {
                    "200": {
                        "description": "成功获取可用 API 列表 (Successfully retrieved available API list)",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "description": {
                                        "type": "string"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "seller_username": {
                                        "type": "string"
                                    },
                                    "service_id": {
                                        "type": "integer"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/buyer/services/{service_id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取指定 API 服务的详细信息，包括文档、订阅状态等",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Buyer"
                ],
                "summary": "获取 API 服务详细信息",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API 服务 ID (API Service ID)",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "API 详情信息",
                        "schema": {
                            "$ref": "#/definitions/model.APIServiceDetailResponse"
                        }
                    },
                    "400": {
                        "description": "请求参数错误 (Invalid input)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "API 服务不存在 (API service not found)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/buyer/services/{service_id}/subscribe": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "买家选择一个 API 服务进行订阅，平台将为此生成一个唯一的 API 密钥和代理 URL。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Buyer"
                ],
                "summary": "订阅 API 服务",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API 服务 ID (API Service ID)",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "订阅成功，返回平台密钥和代理 URL (Subscription successful, returns platform key and proxy URL)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "platform_api_key": {
                                    "type": "string"
                                },
                                "platform_proxy_url": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "请求参数错误 (Invalid input - e.g., service_id not found)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "已订阅该服务 (Already subscribed to this service)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/buyer/subscriptions": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取买家已订阅的API服务列表，包括订阅详情和API密钥信息。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Buyer"
                ],
                "summary": "获取买家订阅列表",
                "responses": {
                    "200": {
                        "description": "订阅列表 (Subscription list)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "apis": {
                                    "type": "array",
                                    "items": {
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/buyer/subscriptions/{service_id}": {
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "买家取消对指定 API 服务的订阅，删除相关的平台密钥。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Buyer"
                ],
                "summary": "取消订阅 API 服务",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "API 服务 ID (API Service ID)",
                        "name": "service_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "取消订阅成功 (Unsubscription successful)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "请求参数错误 (Invalid input - e.g., service_id not found)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "未找到订阅 (Subscription not found)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/buyer/usage": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "买家查看自己在特定时间段内的 API 调用次数和指示性费用。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Buyer"
                ],
                "summary": "查看 API 使用情况和费用",
                "parameters": [
                    {
                        "type": "string",
                        "description": "查询周期 (Query period) (e.g., 'monthly', 'daily') default: 'monthly'",
                        "name": "period",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "成功获取使用情况 (Successfully retrieved usage summary)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "calls_made": {
                                    "type": "integer"
                                },
                                "indicative_cost": {
                                    "type": "number"
                                },
                                "usage_details_by_api": {
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/buyer/usage/timeseries": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取买家的API使用时间序列统计数据，支持按日、周、月分组。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Buyer"
                ],
                "summary": "获取买家使用时间序列数据",
                "parameters": [
                    {
                        "type": "string",
                        "description": "查询周期 (Query period) (e.g., 'daily', 'weekly', 'monthly') default: 'daily'",
                        "name": "period",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "成功获取时间序列数据 (Successfully retrieved time series data)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data_points": {
                                    "type": "array"
                                },
                                "period": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "检查 API 平台服务是否正常运行",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "健康检查"
                ],
                "summary": "服务健康检查",
                "responses": {
                    "200": {
                        "description": "服务正常运行",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/proxy/{proxiedPath}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Proxies an incoming API request to the registered seller's API service, handling authentication and usage tracking.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Platform API Proxy"
                ],
                "summary": "Proxy API request to seller's service",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Platform API Key issued to the buyer",
                        "name": "platform_api_key",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Path to be proxied to the seller's service",
                        "name": "proxiedPath",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Proxied response from seller's service",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad Request (e.g., missing or invalid platform API key)",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized (e.g., invalid or revoked platform API key)",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden (e.g., API key not authorized for this service or quota exceeded)",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found (e.g., seller service endpoint not found)",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error (e.g., platform error or error from seller's service)",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    },
                    "502": {
                        "description": "Bad Gateway (e.g., error connecting to seller's service)",
                        "schema": {
                            "$ref": "#/definitions/model.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/seller/usage/timeseries": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取卖家的API使用时间序列统计数据，支持按日、周、月分组。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Seller"
                ],
                "summary": "获取卖家使用时间序列数据",
                "parameters": [
                    {
                        "type": "string",
                        "description": "查询周期 (Query period) (e.g., 'daily', 'weekly', 'monthly') default: 'daily'",
                        "name": "period",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "成功获取时间序列数据 (Successfully retrieved time series data)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data_points": {
                                    "type": "array"
                                },
                                "period": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "未授权 (Unauthorized)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误 (Internal server error)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "model.APICallDetail": {
            "type": "object",
            "properties": {
                "api_service_id": {
                    "type": "integer"
                },
                "api_service_name": {
                    "type": "string"
                },
                "calls": {
                    "type": "integer"
                },
                "cost": {
                    "type": "number"
                },
                "total_tokens": {
                    "type": "integer"
                }
            }
        },
        "model.APIDocumentation": {
            "type": "object",
            "properties": {
                "content": {
                    "description": "Markdown内容",
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "doc_id": {
                    "type": "integer"
                },
                "is_published": {
                    "type": "boolean"
                },
                "service_id": {
                    "type": "integer"
                },
                "title": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "model.APIDocumentationResponse": {
            "type": "object",
            "properties": {
                "content": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "doc_id": {
                    "type": "integer"
                },
                "endpoints": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.APIEndpoint"
                    }
                },
                "is_published": {
                    "type": "boolean"
                },
                "service_id": {
                    "type": "integer"
                },
                "title": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "model.APIEndpoint": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "doc_id": {
                    "type": "integer"
                },
                "endpoint_id": {
                    "type": "integer"
                },
                "examples": {
                    "type": "object",
                    "additionalProperties": true
                },
                "is_deprecated": {
                    "type": "boolean"
                },
                "method": {
                    "type": "string"
                },
                "parameters": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.APIParameter"
                    }
                },
                "path": {
                    "type": "string"
                },
                "request_body_schema": {
                    "type": "object",
                    "additionalProperties": true
                },
                "response_schema": {
                    "type": "object",
                    "additionalProperties": true
                },
                "summary": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "model.APIParameter": {
            "type": "object",
            "properties": {
                "default": {},
                "description": {
                    "type": "string"
                },
                "example": {},
                "in": {
                    "description": "query, header, path, body",
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "required": {
                    "type": "boolean"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "model.APIServiceDetailResponse": {
            "type": "object",
            "properties": {
                "category": {
                    "description": "API市场扩展字段",
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "documentation": {
                    "type": "string"
                },
                "features": {
                    "description": "解析后的特性数组",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "is_active": {
                    "type": "boolean"
                },
                "is_subscribed": {
                    "description": "当前买家是否已订阅",
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "platform_api_key": {
                    "description": "如果已订阅，返回平台密钥",
                    "type": "string"
                },
                "platform_proxy_prefix": {
                    "type": "string"
                },
                "price_per_call": {
                    "type": "number"
                },
                "price_per_token": {
                    "type": "number"
                },
                "pricing_model": {
                    "type": "string"
                },
                "rating": {
                    "type": "number"
                },
                "review_count": {
                    "type": "integer"
                },
                "seller_username": {
                    "description": "用于买家列表展示",
                    "type": "string"
                },
                "service_id": {
                    "type": "integer"
                },
                "subscriber_count": {
                    "type": "integer"
                },
                "subscription_date": {
                    "description": "订阅日期",
                    "type": "string"
                },
                "total_calls": {
                    "type": "integer"
                }
            }
        },
        "model.APIServiceResponse": {
            "type": "object",
            "properties": {
                "category": {
                    "description": "API市场扩展字段",
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "documentation": {
                    "type": "string"
                },
                "features": {
                    "description": "解析后的特性数组",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "platform_proxy_prefix": {
                    "type": "string"
                },
                "price_per_call": {
                    "type": "number"
                },
                "price_per_token": {
                    "type": "number"
                },
                "pricing_model": {
                    "type": "string"
                },
                "rating": {
                    "type": "number"
                },
                "review_count": {
                    "type": "integer"
                },
                "seller_username": {
                    "description": "用于买家列表展示",
                    "type": "string"
                },
                "service_id": {
                    "type": "integer"
                },
                "subscriber_count": {
                    "type": "integer"
                },
                "total_calls": {
                    "type": "integer"
                }
            }
        },
        "model.ChangePasswordRequest": {
            "type": "object",
            "required": [
                "confirm_password",
                "current_password",
                "new_password"
            ],
            "properties": {
                "confirm_password": {
                    "type": "string"
                },
                "current_password": {
                    "type": "string"
                },
                "new_password": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 8
                }
            }
        },
        "model.CreateAPIDocumentationRequest": {
            "type": "object",
            "required": [
                "content",
                "title"
            ],
            "properties": {
                "content": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "is_published": {
                    "type": "boolean"
                },
                "title": {
                    "type": "string",
                    "maxLength": 255
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "model.CreateAPIEndpointRequest": {
            "type": "object",
            "required": [
                "method",
                "path"
            ],
            "properties": {
                "description": {
                    "type": "string"
                },
                "examples": {
                    "type": "object",
                    "additionalProperties": true
                },
                "is_deprecated": {
                    "type": "boolean"
                },
                "method": {
                    "type": "string",
                    "enum": [
                        "GET",
                        "POST",
                        "PUT",
                        "DELETE",
                        "PATCH",
                        "HEAD",
                        "OPTIONS"
                    ]
                },
                "parameters": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.APIParameter"
                    }
                },
                "path": {
                    "type": "string",
                    "maxLength": 500
                },
                "request_body_schema": {
                    "type": "object",
                    "additionalProperties": true
                },
                "response_schema": {
                    "type": "object",
                    "additionalProperties": true
                },
                "summary": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "model.ErrorResponse": {
            "description": "标准错误响应格式",
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer",
                    "example": 400
                },
                "details": {
                    "type": "string",
                    "example": "Field 'username' is required"
                },
                "message": {
                    "type": "string",
                    "example": "Invalid request parameters"
                }
            }
        },
        "model.RegisterAPIServiceRequest": {
            "description": "卖家注册新API服务的请求参数",
            "type": "object",
            "required": [
                "name",
                "original_api_key",
                "original_endpoint_url"
            ],
            "properties": {
                "description": {
                    "type": "string",
                    "example": "提供全球天气数据查询服务"
                },
                "name": {
                    "type": "string",
                    "maxLength": 255,
                    "example": "Weather API"
                },
                "original_api_key": {
                    "type": "string",
                    "example": "sk-1234567890abcdef"
                },
                "original_endpoint_url": {
                    "type": "string",
                    "example": "https://api.weather.com/v1"
                }
            }
        },
        "model.UpdateAPIDocumentationRequest": {
            "type": "object",
            "required": [
                "content",
                "title"
            ],
            "properties": {
                "content": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "is_published": {
                    "type": "boolean"
                },
                "title": {
                    "type": "string",
                    "maxLength": 255
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "model.UpdateAPIEndpointRequest": {
            "type": "object",
            "required": [
                "method",
                "path"
            ],
            "properties": {
                "description": {
                    "type": "string"
                },
                "examples": {
                    "type": "object",
                    "additionalProperties": true
                },
                "is_deprecated": {
                    "type": "boolean"
                },
                "method": {
                    "type": "string",
                    "enum": [
                        "GET",
                        "POST",
                        "PUT",
                        "DELETE",
                        "PATCH",
                        "HEAD",
                        "OPTIONS"
                    ]
                },
                "parameters": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.APIParameter"
                    }
                },
                "path": {
                    "type": "string",
                    "maxLength": 500
                },
                "request_body_schema": {
                    "type": "object",
                    "additionalProperties": true
                },
                "response_schema": {
                    "type": "object",
                    "additionalProperties": true
                },
                "summary": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "model.UpdateAPIPricingRequest": {
            "description": "卖家更新API服务定价策略的请求参数",
            "type": "object",
            "required": [
                "pricing_model"
            ],
            "properties": {
                "price_per_call": {
                    "type": "number",
                    "example": 0.01
                },
                "price_per_token": {
                    "type": "number",
                    "example": 0.001
                },
                "pricing_model": {
                    "type": "string",
                    "enum": [
                        "per_call",
                        "per_token"
                    ],
                    "example": "per_call"
                }
            }
        },
        "model.UpdateUserProfileRequest": {
            "type": "object",
            "properties": {
                "avatar_url": {
                    "type": "string"
                },
                "bio": {
                    "type": "string",
                    "maxLength": 500
                },
                "company": {
                    "type": "string",
                    "maxLength": 100
                },
                "display_name": {
                    "type": "string",
                    "maxLength": 100
                },
                "location": {
                    "type": "string",
                    "maxLength": 100
                },
                "phone_number": {
                    "type": "string",
                    "maxLength": 20
                },
                "timezone": {
                    "type": "string",
                    "maxLength": 50
                },
                "website": {
                    "type": "string"
                }
            }
        },
        "model.UpdateUserSecurityRequest": {
            "type": "object",
            "properties": {
                "allowed_ip_ranges": {
                    "type": "string"
                },
                "login_notifications": {
                    "type": "boolean"
                },
                "password_expiry_days": {
                    "type": "integer"
                },
                "session_timeout": {
                    "type": "integer"
                },
                "two_factor_enabled": {
                    "type": "boolean"
                }
            }
        },
        "model.UpdateUserSettingsRequest": {
            "type": "object",
            "properties": {
                "api_usage_alerts": {
                    "type": "boolean"
                },
                "currency": {
                    "type": "string",
                    "maxLength": 10
                },
                "date_format": {
                    "type": "string",
                    "maxLength": 20
                },
                "email_notifications": {
                    "type": "boolean"
                },
                "language": {
                    "type": "string",
                    "maxLength": 10
                },
                "marketing_emails": {
                    "type": "boolean"
                },
                "security_alerts": {
                    "type": "boolean"
                },
                "sms_notifications": {
                    "type": "boolean"
                },
                "theme": {
                    "type": "string",
                    "enum": [
                        "light",
                        "dark",
                        "auto"
                    ]
                }
            }
        },
        "model.UsageSummaryResponse": {
            "type": "object",
            "properties": {
                "calls_made": {
                    "type": "integer"
                },
                "indicative_cost": {
                    "description": "基于实际token使用的费用",
                    "type": "number"
                },
                "period": {
                    "description": "e.g., \"monthly\", \"daily\"",
                    "type": "string"
                },
                "total_tokens": {
                    "type": "integer"
                },
                "usage_details_by_api": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.APICallDetail"
                    }
                }
            }
        },
        "model.UserAccountResponse": {
            "type": "object",
            "properties": {
                "profile": {
                    "$ref": "#/definitions/model.UserProfile"
                },
                "security": {
                    "$ref": "#/definitions/model.UserSecurity"
                },
                "settings": {
                    "$ref": "#/definitions/model.UserSettings"
                },
                "user": {
                    "$ref": "#/definitions/model.UserResponse"
                }
            }
        },
        "model.UserLoginRequest": {
            "description": "用户登录请求参数",
            "type": "object",
            "required": [
                "password",
                "username"
            ],
            "properties": {
                "password": {
                    "type": "string",
                    "example": "SecurePass123!"
                },
                "username": {
                    "type": "string",
                    "example": "john_doe"
                }
            }
        },
        "model.UserLoginResponse": {
            "description": "用户登录成功响应",
            "type": "object",
            "properties": {
                "token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                }
            }
        },
        "model.UserProfile": {
            "type": "object",
            "properties": {
                "avatar_url": {
                    "description": "头像URL",
                    "type": "string"
                },
                "bio": {
                    "description": "个人简介",
                    "type": "string"
                },
                "company": {
                    "description": "公司名称",
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "display_name": {
                    "description": "显示名称",
                    "type": "string"
                },
                "location": {
                    "description": "所在地区",
                    "type": "string"
                },
                "phone_number": {
                    "description": "电话号码",
                    "type": "string"
                },
                "profile_id": {
                    "type": "integer"
                },
                "timezone": {
                    "description": "时区",
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                },
                "website": {
                    "description": "个人网站",
                    "type": "string"
                }
            }
        },
        "model.UserRegistrationRequest": {
            "description": "用户注册请求参数",
            "type": "object",
            "required": [
                "email",
                "password",
                "role",
                "username"
            ],
            "properties": {
                "email": {
                    "type": "string",
                    "example": "john@example.com"
                },
                "password": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 8,
                    "example": "SecurePass123!"
                },
                "role": {
                    "type": "string",
                    "enum": [
                        "seller",
                        "buyer"
                    ],
                    "example": "seller"
                },
                "username": {
                    "type": "string",
                    "maxLength": 50,
                    "minLength": 3,
                    "example": "john_doe"
                }
            }
        },
        "model.UserResponse": {
            "description": "用户基础信息响应",
            "type": "object",
            "properties": {
                "email": {
                    "type": "string",
                    "example": "john@example.com"
                },
                "role": {
                    "type": "string",
                    "enum": [
                        "seller",
                        "buyer"
                    ],
                    "example": "seller"
                },
                "user_id": {
                    "type": "integer",
                    "example": 1
                },
                "username": {
                    "type": "string",
                    "example": "john_doe"
                }
            }
        },
        "model.UserSecurity": {
            "type": "object",
            "properties": {
                "allowed_ip_ranges": {
                    "description": "允许的IP范围，JSON数组字符串",
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "last_password_change": {
                    "description": "最后修改密码时间",
                    "type": "string"
                },
                "login_notifications": {
                    "description": "登录通知开关",
                    "type": "boolean"
                },
                "password_expiry_days": {
                    "description": "密码过期天数，0表示不过期",
                    "type": "integer"
                },
                "security_id": {
                    "type": "integer"
                },
                "session_timeout": {
                    "description": "会话超时时间(分钟)",
                    "type": "integer"
                },
                "two_factor_enabled": {
                    "description": "两步验证开关",
                    "type": "boolean"
                },
                "updated_at": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "model.UserSettings": {
            "type": "object",
            "properties": {
                "api_usage_alerts": {
                    "description": "API使用量警告",
                    "type": "boolean"
                },
                "created_at": {
                    "type": "string"
                },
                "currency": {
                    "description": "货币偏好，默认\"USD\"",
                    "type": "string"
                },
                "date_format": {
                    "description": "日期格式偏好",
                    "type": "string"
                },
                "email_notifications": {
                    "description": "邮件通知开关",
                    "type": "boolean"
                },
                "language": {
                    "description": "语言偏好，默认\"zh-CN\"",
                    "type": "string"
                },
                "marketing_emails": {
                    "description": "营销邮件开关",
                    "type": "boolean"
                },
                "security_alerts": {
                    "description": "安全警告",
                    "type": "boolean"
                },
                "settings_id": {
                    "type": "integer"
                },
                "sms_notifications": {
                    "description": "短信通知开关",
                    "type": "boolean"
                },
                "theme": {
                    "description": "主题偏好：\"light\", \"dark\", \"auto\"",
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "JWT 认证令牌，格式：Bearer {token}",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    },
    "tags": [
        {
            "description": "系统健康状态检查相关接口",
            "name": "健康检查"
        },
        {
            "description": "用户注册、登录、认证相关接口",
            "name": "用户认证"
        },
        {
            "description": "卖家管理 API 服务的相关接口，包括创建、更新、删除、定价等",
            "name": "卖家服务管理"
        },
        {
            "description": "买家浏览、订阅、使用 API 服务的相关接口",
            "name": "买家服务访问"
        },
        {
            "description": "API 请求代理和转发相关接口",
            "name": "API 代理"
        },
        {
            "description": "API 使用情况统计和查询相关接口",
            "name": "使用统计"
        },
        {
            "description": "用户账户信息管理相关接口",
            "name": "用户管理"
        }
    ]
}